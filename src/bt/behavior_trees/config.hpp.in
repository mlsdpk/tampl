#pragma once

#include <filesystem>

// This was automatically generated by cmake
namespace tampl::bt {
// inline to ensure a single definition across the program
inline const char *TAMPL_DEFAULT_BEHAVIOR_TREES_BUILD_DIR = "@BEHAVIOR_TREES_BUILD_DIR@";
inline const char *TAMPL_DEFAULT_BEHAVIOR_TREES_INSTALL_DIR = "@BEHAVIOR_TREES_INSTALL_DIR@";

/**
 * @brief Returns the default directory for behavior trees based on the current environment.
 *
 * This function checks whether the install directory for behavior trees exists.
 * If the install directory exists, it returns that path; otherwise, it falls back to
 * the build directory path.
 *
 * @return A `std::filesystem::path` representing the behavior trees directory.
 */
inline std::filesystem::path default_behavior_trees_dir() {
  if (std::filesystem::exists(TAMPL_DEFAULT_BEHAVIOR_TREES_INSTALL_DIR)) {
    return std::filesystem::path(TAMPL_DEFAULT_BEHAVIOR_TREES_INSTALL_DIR);
  }
  return std::filesystem::path(TAMPL_DEFAULT_BEHAVIOR_TREES_BUILD_DIR);
}

} // namespace tampl::bt
